var b,M;function m(){if(M)return b;M=1;function S(l){if(l.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),U=0;U<d.length;U++)d[U]=255;for(var p=0;p<l.length;p++){var y=l.charAt(p),E=y.charCodeAt(0);if(d[E]!==255)throw new TypeError(y+" is ambiguous");d[E]=p}var g=l.length,z=l.charAt(0),u=Math.log(g)/Math.log(256),R=Math.log(256)/Math.log(g);function C(r){if(r instanceof Uint8Array||(ArrayBuffer.isView(r)?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):Array.isArray(r)&&(r=Uint8Array.from(r))),!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(r.length===0)return"";for(var t=0,v=0,a=0,i=r.length;a!==i&&r[a]===0;)a++,t++;for(var f=(i-a)*R+1>>>0,o=new Uint8Array(f);a!==i;){for(var e=r[a],w=0,h=f-1;(e!==0||w<v)&&h!==-1;h--,w++)e+=256*o[h]>>>0,o[h]=e%g>>>0,e=e/g>>>0;if(e!==0)throw new Error("Non-zero carry");v=w,a++}for(var n=f-v;n!==f&&o[n]===0;)n++;for(var A=z.repeat(t);n<f;++n)A+=l.charAt(o[n]);return A}function s(r){if(typeof r!="string")throw new TypeError("Expected String");if(r.length===0)return new Uint8Array;for(var t=0,v=0,a=0;r[t]===z;)v++,t++;for(var i=(r.length-t)*u+1>>>0,f=new Uint8Array(i);r[t];){var o=r.charCodeAt(t);if(o>255)return;var e=d[o];if(e===255)return;for(var w=0,h=i-1;(e!==0||w<a)&&h!==-1;h--,w++)e+=g*f[h]>>>0,f[h]=e%256>>>0,e=e/256>>>0;if(e!==0)throw new Error("Non-zero carry");a=w,t++}for(var n=i-a;n!==i&&f[n]===0;)n++;for(var A=new Uint8Array(v+(i-n)),O=v;n!==i;)A[O++]=f[n++];return A}function N(r){var t=s(r);if(t)return t;throw new Error("Non-base"+g+" character")}return{encode:C,decodeUnsafe:s,decode:N}}return b=S,b}export{m as r};
