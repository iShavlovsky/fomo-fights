const S="standard:connect",W="standard:disconnect",j="standard:events";var p=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},h=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},s;function F(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new g(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class g extends Event{get detail(){return p(this,s,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),s.set(this,void 0),h(this,s,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}s=new WeakMap;function C(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var y=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},E=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},l;let o;const c=new Set;function b(e){d=void 0,c.add(e)}function m(e){d=void 0,c.delete(e)}const i={};function v(){if(o||(o=Object.freeze({register:u,get:P,on:_}),typeof window>"u"))return o;const e=Object.freeze({register:u});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new T(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return o}function u(...e){var t;return e=e.filter(r=>!c.has(r)),e.length?(e.forEach(r=>b(r)),(t=i.register)==null||t.forEach(r=>w(()=>r(...e))),function(){var n;e.forEach(a=>m(a)),(n=i.unregister)==null||n.forEach(a=>w(()=>a(...e)))}):()=>{}}let d;function P(){return d||(d=[...c]),d}function _(e,t){var r;return(r=i[e])!=null&&r.push(t)||(i[e]=[t]),function(){var a;i[e]=(a=i[e])==null?void 0:a.filter(f=>t!==f)}}function w(e){try{e()}catch(t){console.error(t)}}class T extends Event{get detail(){return y(this,l,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),l.set(this,void 0),E(this,l,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}l=new WeakMap;function D(){if(o||(o=v(),typeof window>"u"))return o;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),o;const{register:t}=o,r=(...n)=>n.forEach(a=>w(()=>a({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),o}return r(...e),o}export{D,S,j as a,W as b,C as c,F as r};
