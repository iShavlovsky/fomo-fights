import{l as q}from"./lottie-web-DhygXL_N.js";import{r as P,R as z}from"./react-B5jr9g3P.js";import"./@babel-D6-XlEtG.js";function j(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function G(t){if(Array.isArray(t))return t}function J(t,e,r){return(e=re(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,c,m,i,b=[],d=!0,A=!1;try{if(m=(r=r.call(t)).next,e!==0)for(;!(d=(n=m.call(r)).done)&&(b.push(n.value),b.length!==e);d=!0);}catch(g){A=!0,c=g}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(A)throw c}}return b}}function Z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x(t,e){if(t==null)return{};var r,n,c=ee(t,e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(t);for(n=0;n<m.length;n++)r=m[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(c[r]=t[r])}return c}function ee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function te(t,e){return G(t)||Q(t,e)||ae(t,e)||Z()}function ne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function re(t){var e=ne(t,"string");return typeof e=="symbol"?e:e+""}function ae(t,e){if(t){if(typeof t=="string")return j(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,e):void 0}}var oe=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],ie=function(e,r){var n=e.animationData,c=e.loop,m=e.autoplay,i=e.initialSegment,b=e.onComplete,d=e.onLoopComplete,A=e.onEnterFrame,g=e.onSegmentStart,L=e.onConfigReady,w=e.onDataReady,h=e.onDataFailed,u=e.onLoadedImages,D=e.onDOMLoaded,S=e.onDestroy;e.lottieRef,e.renderer,e.name,e.assetsPath,e.rendererSettings;var p=x(e,oe),_=P.useState(!1),l=te(_,2),R=l[0],C=l[1],o=P.useRef(),v=P.useRef(null),H=function(){var a;(a=o.current)===null||a===void 0||a.play()},M=function(){var a;(a=o.current)===null||a===void 0||a.stop()},F=function(){var a;(a=o.current)===null||a===void 0||a.pause()},V=function(a){var s;(s=o.current)===null||s===void 0||s.setSpeed(a)},N=function(a,s){var f;(f=o.current)===null||f===void 0||f.goToAndPlay(a,s)},k=function(a,s){var f;(f=o.current)===null||f===void 0||f.goToAndStop(a,s)},B=function(a){var s;(s=o.current)===null||s===void 0||s.setDirection(a)},$=function(a,s){var f;(f=o.current)===null||f===void 0||f.playSegments(a,s)},W=function(a){var s;(s=o.current)===null||s===void 0||s.setSubframe(a)},K=function(a){var s;return(s=o.current)===null||s===void 0?void 0:s.getDuration(a)},U=function(){var a;(a=o.current)===null||a===void 0||a.destroy(),o.current=void 0},X=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s;if(v.current){(s=o.current)===null||s===void 0||s.destroy();var f=I(I(I({},e),a),{},{container:v.current});return o.current=q.loadAnimation(f),C(!!o.current),function(){var O;(O=o.current)===null||O===void 0||O.destroy(),o.current=void 0}}};P.useEffect(function(){var y=X();return function(){return y==null?void 0:y()}},[n,c]),P.useEffect(function(){o.current&&(o.current.autoplay=!!m)},[m]),P.useEffect(function(){if(o.current){if(!i){o.current.resetSegments(!0);return}!Array.isArray(i)||!i.length||((o.current.currentRawFrame<i[0]||o.current.currentRawFrame>i[1])&&(o.current.currentRawFrame=i[0]),o.current.setSegment(i[0],i[1]))}},[i]),P.useEffect(function(){var y=[{name:"complete",handler:b},{name:"loopComplete",handler:d},{name:"enterFrame",handler:A},{name:"segmentStart",handler:g},{name:"config_ready",handler:L},{name:"data_ready",handler:w},{name:"data_failed",handler:h},{name:"loaded_images",handler:u},{name:"DOMLoaded",handler:D},{name:"destroy",handler:S}],a=y.filter(function(f){return f.handler!=null});if(a.length){var s=a.map(function(f){var O;return(O=o.current)===null||O===void 0||O.addEventListener(f.name,f.handler),function(){var T;(T=o.current)===null||T===void 0||T.removeEventListener(f.name,f.handler)}});return function(){s.forEach(function(f){return f()})}}},[b,d,A,g,L,w,h,u,D,S]);var Y=z.createElement("div",I({style:r,ref:v},p));return{View:Y,play:H,stop:M,pause:F,setSpeed:V,goToAndStop:k,goToAndPlay:N,setDirection:B,playSegments:$,setSubframe:W,getDuration:K,destroy:U,animationContainerRef:v,animationLoaded:R,animationItem:o.current}};function ue(t){var e=t.getBoundingClientRect(),r=e.top,n=e.height,c=window.innerHeight-r,m=window.innerHeight+n;return c/m}function le(t,e,r){var n=t.getBoundingClientRect(),c=n.top,m=n.left,i=n.width,b=n.height,d=(e-m)/i,A=(r-c)/b;return{x:d,y:A}}var se=function(e){var r=e.wrapperRef,n=e.animationItem,c=e.mode,m=e.actions;P.useEffect(function(){var i=r.current;if(!(!i||!n||!m.length)){n.stop();var b=function(){var g=null,L=function(){var h=ue(i),u=m.find(function(S){var p=S.visibility;return p&&h>=p[0]&&h<=p[1]});if(u){if(u.type==="seek"&&u.visibility&&u.frames.length===2){var D=u.frames[0]+Math.ceil((h-u.visibility[0])/(u.visibility[1]-u.visibility[0])*u.frames[1]);//! goToAndStop must be relative to the start of the current segment
n.goToAndStop(D-n.firstFrame-1,!0)}u.type==="loop"&&(g===null||g!==u.frames||n.isPaused)&&(n.playSegments(u.frames,!0),g=u.frames),u.type==="play"&&n.isPaused&&(n.resetSegments(!0),n.play()),u.type==="stop"&&n.goToAndStop(u.frames[0]-n.firstFrame-1,!0)}};return document.addEventListener("scroll",L),function(){document.removeEventListener("scroll",L)}},d=function(){var g=function(u,D){var S=u,p=D;if(S!==-1&&p!==-1){var _=le(i,S,p);S=_.x,p=_.y}var l=m.find(function(o){var v=o.position;return v&&Array.isArray(v.x)&&Array.isArray(v.y)?S>=v.x[0]&&S<=v.x[1]&&p>=v.y[0]&&p<=v.y[1]:v&&!Number.isNaN(v.x)&&!Number.isNaN(v.y)?S===v.x&&p===v.y:!1});if(l){if(l.type==="seek"&&l.position&&Array.isArray(l.position.x)&&Array.isArray(l.position.y)&&l.frames.length===2){var R=(S-l.position.x[0])/(l.position.x[1]-l.position.x[0]),C=(p-l.position.y[0])/(l.position.y[1]-l.position.y[0]);n.playSegments(l.frames,!0),n.goToAndStop(Math.ceil((R+C)/2*(l.frames[1]-l.frames[0])),!0)}l.type==="loop"&&n.playSegments(l.frames,!0),l.type==="play"&&(n.isPaused&&n.resetSegments(!1),n.playSegments(l.frames)),l.type==="stop"&&n.goToAndStop(l.frames[0],!0)}},L=function(u){g(u.clientX,u.clientY)},w=function(){g(-1,-1)};return i.addEventListener("mousemove",L),i.addEventListener("mouseout",w),function(){i.removeEventListener("mousemove",L),i.removeEventListener("mouseout",w)}};switch(c){case"scroll":return b();case"cursor":return d()}}},[c,n])},de=function(e){var r=e.actions,n=e.mode,c=e.lottieObj,m=c.animationItem,i=c.View,b=c.animationContainerRef;return se({actions:r,animationItem:m,mode:n,wrapperRef:b}),i},ce=["style","interactivity"],ye=function(e){var r,n,c,m=e.style,i=e.interactivity,b=x(e,ce),d=ie(b,m),A=d.View,g=d.play,L=d.stop,w=d.pause,h=d.setSpeed,u=d.goToAndStop,D=d.goToAndPlay,S=d.setDirection,p=d.playSegments,_=d.setSubframe,l=d.getDuration,R=d.destroy,C=d.animationContainerRef,o=d.animationLoaded,v=d.animationItem;return P.useEffect(function(){e.lottieRef&&(e.lottieRef.current={play:g,stop:L,pause:w,setSpeed:h,goToAndPlay:D,goToAndStop:u,setDirection:S,playSegments:p,setSubframe:_,getDuration:l,destroy:R,animationContainerRef:C,animationLoaded:o,animationItem:v})},[(r=e.lottieRef)===null||r===void 0?void 0:r.current]),de({lottieObj:{View:A,play:g,stop:L,pause:w,setSpeed:h,goToAndStop:u,goToAndPlay:D,setDirection:S,playSegments:p,setSubframe:_,getDuration:l,destroy:R,animationContainerRef:C,animationLoaded:o,animationItem:v},actions:(n=i==null?void 0:i.actions)!==null&&n!==void 0?n:[],mode:(c=i==null?void 0:i.mode)!==null&&c!==void 0?c:"scroll"})};export{q as LottiePlayer,ye as default,ie as useLottie,de as useLottieInteractivity};
